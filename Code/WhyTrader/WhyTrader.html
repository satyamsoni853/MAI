<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Why Traders Choose MAI - Staggered, No-Slide Switcher</title>
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
        
        .traders-section {
            padding: 80px 0;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }
        .section-title {
            font-size: 3rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 16px;
        }
        .info-icon {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: #e3f2fd;
            color: #1976d2;
            border-radius: 50%;
            font-size: 16px;
            font-weight: bold;
            line-height: 28px;
            margin-left: 10px;
            cursor: help;
        }
        .section-text {
            max-width: 1200px;
            margin: 0 auto 60px;
            font-size: 1.3rem;
            color: #555;
            line-height: 1.7;
        }

        /* Container for the 5 cards */
        .carousel-wrapper {
            position: relative;
            margin: 0 auto;
            max-width: 1600px; 
        }
        
        /* The row of cards */
        .carousel-track {
            display: flex;
            justify-content: center; /* Center the group of cards */
            gap: 32px;
            padding: 120px 0 180px; 
            margin: 0 auto; 
            width: fit-content; 
        }

        .trader-card {
            min-width: 290px;
            height: 400px;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
            flex-shrink: 0;
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.18);
            opacity: 1;
        }
        
        /* Image container for swipe effect */
        .trader-card .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Swipe animation classes */
        .trader-card.swipe-out-left .card-img {
            transform: translateX(-100%);
        }
        
        .trader-card.swipe-out-right .card-img {
            transform: translateX(100%);
        }
        
        .trader-card.swipe-in-left .card-img {
            transform: translateX(0);
        }
        
        .trader-card.swipe-in-right .card-img {
            transform: translateX(0);
        }
        
        .trader-card:hover .card-img {
            transform: scale(1.08);
        }
        .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
            color: white;
            padding: 70px 24px 30px;
            text-align: center;
        }
        .overlay h3 {
            font-size: 1.55rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .overlay p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* --- STAGGERED Vertical positioning classes (Restored) --- */
        .lower-card {
            transform: translateY(180px);
        }
        .upper-card {
            transform: translateY(80px);
        }
        .middle-card {
            transform: translateY(0);
        }
        
        /* --- Navigation Button Styles --- */

        .nav-buttons {
            display: flex;
            position: relative;
            top: -100px;
            justify-content: center;
            gap: 20px;
            margin: 40px 0 80px;
        }
        .nav-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: white;
            border: none;
            font-size: 1.6rem;
            color: #555;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 10;
        }
        .nav-btn:hover:not(:disabled) {
            background: #0d47a1;
            color: white;
            transform: scale(1.1);
        }
        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .view-all {
            margin-top: -50px;
        }
        .btn-primary {
            display: inline-block;
            background: #0d47a1;
            position: relative;
            top: -100px;
            color: white;
            padding: 20px 50px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(13, 71, 161, 0.3);
        }
        .btn-primary:hover {
            background: #1565c0;
            transform: translateY(-4px);
        }

        /* --- Media Queries --- */
        @media (max-width: 1700px) {
            .carousel-track {
                justify-content: flex-start;
                margin: 0;
                overflow-x: auto;
            }
        }
        @media (max-width: 992px) {
            .lower-card { transform: translateY(140px); }
            .upper-card { transform: translateY(60px); }
            .trader-card { min-width: 270px; }
        }
        @media (max-width: 768px) {
            .lower-card { transform: translateY(100px); }
            .upper-card { transform: translateY(40px); }
            .trader-card { min-width: 250px; }
            .carousel-track { gap: 20px; }
        }
        @media (max-width: 500px) {
            .carousel-track {
                 justify-content: center;
                 overflow-x: hidden;
            }
        }
    </style>
</head>
<body>
    <section class="traders-section">
        <div class="container">
            <h2 class="section-title">
                Traders - Why Traders Choose MAI
                <span class="info-icon">i</span>
            </h2>
            <p class="section-text">
                MAI upholds high standards by thoroughly vetting all Traders, ensuring
                only top professionals are featured. Traders enjoy consistent
                inquiries, effective communication, and tools to enhance credibility
                and showcase their work. With MAI, they expand client base and manage
                Projects efficiently.
            </p>

            <div class="carousel-wrapper">
                <div class="carousel-track" id="carouselTrack">
                    </div>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev-btn" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="nav-btn next-btn" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="view-all">
                <a href="#" class="btn-primary">View All Trader</a>
            </div>
        </div>
    </section>

    <script>
        // === TRADER DATA (No position property - positions are fixed by card index) ===
        const tradersData = [
            { name: "Robert Fox", location: "Birmingham", img: "../../Task%20Images/Fifth%20Section/construction-industry-workers-1.png" },
            { name: "Marvin McKinney", location: "Greater London", img: "../../Task%20Images/Fifth%20Section/construction-industry-workers.png" },
            { name: "Guy Hawkins", location: "Birmingham", img: "../../Task%20Images/Fifth%20Section/handsome-business-man-engineer-hard-hat-building-1.png" },
            { name: "Jane Cooper", location: "Greater London", img: "../../Task%20Images/Fifth%20Section/handsome-business-man-engineer-hard-hat-building.png" },
            { name: "Ronald Richards", location: "Birmingham", img: "../../Task%20Images/Fifth%20Section/male-construction-worker-standing-with-safty-hat-hand-crossed.png" },
            { name: "Esther Howard", location: "Manchester", img: "../../Task%20Images/Fifth%20Section/construction-industry-workers-1.png" },
            { name: "Cameron Williamson", location: "Leeds", img: "../../Task%20Images/Fifth%20Section/handsome-business-man-engineer-hard-hat-building.png" },
            { name: "Brooklyn Simmons", location: "Liverpool", img: "../../Task%20Images/Fifth%20Section/handsome-business-man-engineer-hard-hat-building-1.png" },
            { name: "Another Trader", location: "Coventry", img: "../../Task%20Images/Fifth%20Section/construction-industry-workers.png" },
        ];
        
        // Fixed position pattern for the 5 cards (never changes)
        const cardPositions = ['lower-card', 'upper-card', 'middle-card', 'upper-card', 'lower-card'];

        // === JavaScript Logic: Keeps Card Position, Only Changes Content ===
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.getElementById('carouselTrack');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            const VISIBLE_CARDS = 5; 
            let startIndex = 0; 

            // 1. Initial Card Element Creation (Creates 5 visible cards with fixed positions)
            for (let i = 0; i < VISIBLE_CARDS; i++) {
                const card = document.createElement('div');
                // Apply fixed position class that never changes
                card.className = `trader-card card-${i} ${cardPositions[i]}`; 
                card.innerHTML = `
                    <img class="card-img" src="" alt="">
                    <div class="overlay">
                        <h3 class="card-name"></h3>
                        <p class="card-location"></p>
                    </div>
                `;
                track.appendChild(card);
            }
            
            const cardElements = Array.from(track.children);


            // 2. Function to update the content of the 5 visible cards with swipe effect
            const updateCardContent = (newStartIndex, direction) => {
                // Bounds check
                if (newStartIndex < 0 || newStartIndex > tradersData.length - VISIBLE_CARDS) {
                    return; 
                }

                // Determine swipe direction
                const swipeOutClass = direction === 'next' ? 'swipe-out-left' : 'swipe-out-right';
                
                // Apply swipe out animation to all cards
                cardElements.forEach(card => {
                    card.classList.add(swipeOutClass);
                });

                setTimeout(() => {
                    // Update content while images are off-screen
                    for (let i = 0; i < VISIBLE_CARDS; i++) {
                        const dataIndex = newStartIndex + i;
                        const data = tradersData[dataIndex];
                        const card = cardElements[i];

                        // Set NEW Content (Image, Name, Location)
                        card.querySelector('.card-img').src = data.img;
                        card.querySelector('.card-name').textContent = data.name;
                        card.querySelector('.card-location').textContent = data.location;
                        
                        // Reset image position to opposite side for swipe in
                        const img = card.querySelector('.card-img');
                        img.style.transform = direction === 'next' ? 'translateX(100%)' : 'translateX(-100%)';
                        
                        // Keep the fixed position class - DON'T change card alignment
                        card.className = `trader-card card-${i} ${cardPositions[i]}`; 
                    }
                    
                    // Small delay to ensure transform is applied
                    setTimeout(() => {
                        // Swipe in the new images
                        cardElements.forEach(card => {
                            const img = card.querySelector('.card-img');
                            img.style.transform = 'translateX(0)';
                        });
                    }, 50);

                    startIndex = newStartIndex;
                    updateButtons();
                }, 500); // Match the CSS transition duration
            };

            // 3. Update Buttons function (Disables arrows when limits are reached)
            const updateButtons = () => {
                prevBtn.disabled = startIndex === 0;
                nextBtn.disabled = startIndex >= tradersData.length - VISIBLE_CARDS;
            };

            // 4. Navigation Button Handlers
            nextBtn.addEventListener('click', () => {
                if (startIndex < tradersData.length - VISIBLE_CARDS) {
                    updateCardContent(startIndex + 1, 'next'); 
                }
            });

            prevBtn.addEventListener('click', () => {
                if (startIndex > 0) {
                    updateCardContent(startIndex - 1, 'prev');
                }
            });

            // Initial load of the first 5 cards (no animation on first load)
            const initialLoad = () => {
                for (let i = 0; i < VISIBLE_CARDS; i++) {
                    const dataIndex = startIndex + i;
                    const data = tradersData[dataIndex];
                    const card = cardElements[i];

                    card.querySelector('.card-img').src = data.img;
                    card.querySelector('.card-name').textContent = data.name;
                    card.querySelector('.card-location').textContent = data.location;
                    // Position is already set during card creation, no need to change it
                }
                updateButtons();
            };
            
            initialLoad();
        });
    </script>
</body>
</html>